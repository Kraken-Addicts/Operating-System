
## 9장 디스크 관리

<br>

### 9-1 :fallen_leaf: 디스크의 구조　`jehong`
 
**PART I** 

다음 보기를 참고해 그림과 문장의 빈칸을 채워주세요.

> <보기>
>
> `실린더`, `논리블록`, `트랙`, `암`, `데이타`, `섹터`, `디스크`, `마그네틱 원판`, `인덱스 번호`

1. 디스크의 물리적 구조

   <img src="https://images.velog.io/images/jehjong/post/9594c448-a215-46f2-9ab3-fb37e6b829a6/image.png" width="600" />

   

2. 디스크 외부에서 디스크를 저장하는 일정한 크기의 공간으로 1차원 배열처럼 취급하는 것을 `__________` 이라 한다.

3. 각 논리블록이 저장되는 디스크 내의 물리적인 위치며 각 논리블록과 1 대 1로 매칭되는 것을 `__________` 라 한다.

4. 논리블록에 저장된 데이터를 접근하기 위해 배열을 접근하는 것처럼 블록의  `__________` 을/를 디스크에 전달한다.

5. 각각의 원판은 `__________` 으로 구성되고 이것은 `__________` 로 나뉜다.

6. 여러 개의 원판에서 상대적 위치가 동일한 트랙들의 집합을 `__________` 라 부른다.



**PART II**

1. 디스크는 컴퓨터에서 수행한 작업의 결과를 영구히 보관하기 위해 사용하는 2차 저장장치다.  ( O / X )
2. 디스크의 물리적인 구조는 마그네틱의 원판 으로 구성되며 하나의 디스크 내에 원판의 수는 하나일 수도 있다. ( O / X )
3. 디스크가 저장되거나 디스크 외부로 입출력이 일어날 때 논리블록 단위로 저장 및 전송된다. ( O / X )





<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">

**PART I** 

다음 보기를 참고해 그림과 문장의 빈칸을 채워주세요.

> <보기>
>
> `실린더`, `논리블록`, `트랙`, `암`, `데이타`, `섹터`, `디스크`, `마그네틱 원판`, `인덱스 번호`

1. 디스크의 물리적 구조

   <img src="https://images.velog.io/images/jehjong/post/048d19c5-1bbd-43dd-bd37-4bd3387633de/image.png" width="600" />

   

2. 디스크 외부에서 디스크를 저장하는 일정한 크기의 공간으로 1차원 배열처럼 취급하는 것을 `논리블록` 이라 한다.

3. 각 논리블록 이 저장되는 디스크 내의 물리적인 위치며 각 논리블록 과 1 대 1로 매칭되는 것을 `섹터` 라 한다.

4. 논리블록에 저장된 데이터를 접근하기 위해 배열을 접근하는 것처럼 블록의 `인덱스 번호` 을/를 디스크에 전달한다.

5. 각각의 원판은 `트랙` 으로 구성되고 이것은 `섹터` 로 나뉜다.

6. 여러 개의 원판에서 상대적 위치가 동일한 트랙들의 집합을 `실린더` 라 부른다.



**PART II**

1. 디스크는 컴퓨터에서 수행한 작업의 결과를 영구히 보관하기 위해 사용하는 2차 저장장치다.  ( **O** ) 
2. 디스크의 물리적인 구조는 마그네틱의 원판 으로 구성되며 하나의 디스크 내에 원판의 수는 하나일 수도 있다. ( **O** )
3. 디스크가 저장되거나 디스크 외부로 입출력이 일어날 때 논리블록 단위로 저장 및 전송된다. ( **O** )



</div>
</details>
<br><br>




### 9-2 :fallen_leaf: 디스크 스케줄링	　`taelee`
 
1. 디스크 스케줄링은 디스크에 대한 __접근시간__ 을 줄이기 위한 방법을 지칭한다. 여기에서 접근시간은 ____시간, ____시간, ____시간으로 이루어져 있다.
2. ___시간과 ___시간은 상대적으로 수치가 미미하고 운영체제가 통제하기 힘들어서 디스크 스케줄링은 ____시간을 줄이는데 포커스를 맞춘다.



### 3~5번 문항
다음은 디스크 스케줄링의 관한 내용들을 일상생활에 비유한 문제들이다.

3. 현준은 택배회사에 취직했다. 현준은 아주 성실한 청년이어서 고객과의 약속을 중요시 여긴다. 특히 시간에서는 타협이 없는데 먼저 들어온 업무를 먼저 처리한다는 대원칙을 갖고 있다. 밑에 있는 표는 택배 예약시간과 배송지이다. 현준이 배달해야하는 택배 순서는?(현준이 다니는 택배회사는 기업이 크지 않아 택배기사 한명이 담당하는 범위가 좀 큰편이다.)
정답 예시) 세초집 - 갑천 - 개포동역 ...

   | 권역 | 배송지                 | 예약시간   |
   | ---- | ---------------------- | ---------- |
   | 서울 | 이노베이션 아카데미    | 9:00AM     |
   | 서울 | 개포동 정성한줄        | 10:00AM    |
   | 서울 | 개포동역               | 11:00AM    |
   | 대전 | 세초집                 | 9:05AM     |
   | 대전 | 세초가 다니던 고등학교 | 10:01 AM   |
   | 대전 | 갑천(대전의 한강)      | 11:00:01AM |

4. 위 방법과 비슷한 디스크 스케줄링 방법은?

5. 현준은 너무 힘들어서 방법을 바꾸기로 한다. 컴퓨터 공학도였던 현준은 SSTF(Shortest Seek Time First) 스케줄링을 쓰기로 했다. 바꾸고 나니 움직이는 거리는 매우 적은데 비해 배송건수가 엄청나게 많아져서 돈을 많이 벌게 됐다. 특히 이 스케줄링 방법을 쓰니 서울권역의 일이 많이 들어온 날은 대전을 안가게 되는 신기한 일이 생겼다. 왜일까? 그리고 디스크 스케줄링에서 이 현상을 무슨 현상이라고 할까요?

### 6~10번문항
돈을 많이 벌게 된 현준은 원래 꿈이었던 42서울에 지원해서 취직하게 된다. 취업 후 현준은 첫 피씬 시험감독을 맡게 된다. 클러스터 곳곳에는 긴장감이 느껴지고 그 한가운데 현준이 서있다. 🚨🚨 그러던 와중 갑자기 비상사태가 발생했다.

   시험이 시작됐지만 서버가 불안정해서 곳곳에 접속하지 못하는 피씨너들이 발생한 것이다. 아래 그림은 현준의 현재위치와 걷고 있는 방향, 그리고 문제가 발생해서 손을 들고 있는 학생들을 나타낸 그림이다. 현준은 디스크 스케줄링에 방법으로 이 위기를 헤쳐나가려고 한다. 다음 문항들을 읽고 알맞은 답을 해주세요(현준의 현재위치는 r5이고 r9방향을 바라보고 있다. 각 row는 같은 위치로 본다. 예를들어 r1에서 1,2,3,4,5,6,7은 같은 위치이다.)

   ![image](https://user-images.githubusercontent.com/55867479/97801545-dd5a3400-1c80-11eb-8103-a7f22f7df08e.png)

6. SCAN 알고리즘에 따라 학생들을 만난다면 현준이 만나는 학생들의 순서는?

7. C-SCAN 알고리즘에 따라 학생들을 만난다면 현준이 만나는 학생들의 순서는?(현재 방향을 탐색하는 방향으로 한다)

8. LOOK 알고리즘에 따르면 안들리는 row가 생긴다 몇번 row일까?

9. SCAN방법을 쓸 때 다른 자리에 비해 유독 적게 방문되고, 유독 다음 방문까지 시간이 많이 걸리는 자리가 있다. 몇번 row일까?(제일 심한 2곳)
10. 9번의 문제를 해결하기 위한 방법으로 C-SCAN알고리즘이 탄생되었다. C-SCAN알고리즘의 장점과 단점은?

   

   

<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">

1. 디스크 스케줄링은 디스크에 대한 __접근시간__을 줄이기 위한 방법을 지칭한다. 여기에서 접근시간은 ____시간, ____시간, ____시간으로 이루어져 있다.__ 탐색시간, 회전지연시간, 전송시간 __
2. ___시간과 ___시간은 상대적으로 수치가 미미하고 운영체제가 통제하기 힘들어서 디스크 스케줄링은 ____시간을 줄이는데 포커스를 맞춘다. __  회전지연시간, 전송시간__, __탐색시간__

### 3~5번 문항
다음은 디스크 스케줄링의 관한 내용들을 일상생활에 비유한 문제들이다.

3. 현준은 택배회사에 취직했다. 현준은 아주 성실한 청년이어서 고객과의 약속을 중요시 여긴다. 특히 시간에서는 타협이 없는데 먼저 들어온 업무를 먼저 처리한다는 대원칙을 갖고 있다. 밑에 있는 표는 택배 예약시간과 배송지이다. 현준이 배달해야하는 택배 순서는?(현준이 다니는 택배회사는 기업이 크지 않아 택배기사 한명이 담당하는 범위가 좀 큰편이다.)
정답 예시) 세초집 - 갑천 - 개포동역 ...

   | 권역 | 배송지                 | 예약시간   |
   | ---- | ---------------------- | ---------- |
   | 서울 | 이노베이션 아카데미    | 9:00AM     |
   | 서울 | 개포동 정성한줄        | 10:00AM    |
   | 서울 | 개포동역               | 11:00AM    |
   | 대전 | 세초집                 | 9:05AM     |
   | 대전 | 세초가 다니던 고등학교 | 10:01 AM   |
   | 대전 | 갑천(대전의 한강)      | 11:00:01AM |
이노베이션 아카데미 - 세초집 - 개포동 정성한줄 - 세초가 다니던 고등학교 - 개포동역 - 갑천

4. 위 방법과 비슷한 디스크 스케줄링 방법은? FCFS 스케줄링

5. 현준은 너무 힘들어서 방법을 바꾸기로 한다. 컴퓨터 공학도였던 현준은 SSTF(Shortest Seek Time First) 스케줄링을 쓰기로 했다. 바꾸고 나니 움직이는 거리는 매우 적은데 비해 배송건수가 엄청나게 많아져서 돈을 많이 벌게 됐다. 특히 이 스케줄링 방법을 쓰니 서울권역의 일이 많이 들어온 날은 대전을 안가게 되는 신기한 일이 생겼다. 왜일까? 그리고 디스크 스케줄링에서 이 현상을 무슨 현상이라고 할까요?
__SSTF 스케줄링은 현재 위치에서 제일 가까운 위치를 탐색하러 가기 때문에 현재 위치중에서 제일 먼 위치는 방문하지 않게 된다. 이를 기아현상이라고 한다.__

### 6~10번문항
돈을 많이 벌게 된 현준은 원래 꿈이었던 42서울에 지원해서 취직하게 된다. 취업 후 현준은 첫 피씬 시험감독을 맡게 된다. 클러스터 곳곳에는 긴장감이 느껴지고 그 한가운데 현준이 서있다. 🚨🚨 그러던 와중 갑자기 비상사태가 발생했다.

   시험이 시작됐지만 서버가 불안정해서 곳곳에 접속하지 못하는 피씨너들이 발생한 것이다. 아래 그림은 현준의 현재위치와 걷고 있는 방향, 그리고 문제가 발생해서 손을 들고 있는 학생들을 나타낸 그림이다. 현준은 디스크 스케줄링에 방법으로 이 위기를 헤쳐나가려고 한다. 다음 문항들을 읽고 알맞은 답을 해주세요(현준의 현재위치는 r5이고 r9방향을 바라보고 있다. 각 row는 같은 위치로 본다. 예를들어 r1에서 1,2,3,4,5,6,7은 같은 위치이다.)

   ![image](https://user-images.githubusercontent.com/55867479/97801545-dd5a3400-1c80-11eb-8103-a7f22f7df08e.png)

6. SCAN 알고리즘에 따라 학생들을 만난다면 현준이 만나는 학생들의 순서는?

   __가은-여름-세초-예하-대리-미혜__

7. C-SCAN 알고리즘에 따라 학생들을 만난다면 현준이 만나는 학생들의 순서는?(현재 방향을 탐색하는 방향으로 한다)

   __가은-여름-세초-미혜-대리-예하__

8. LOOK 알고리즘에 따르면 안들리는 row가 생긴다 몇번 row일까?

   __r1__

9. SCAN방법을 쓸 때 다른 자리에 비해 유독 적게 방문되고, 유독 다음 방문까지 시간이 많이 걸리는 자리가 있다. 몇번 row일까?(제일 심한 2곳) __r1, r9__

10. 9번의 문제를 해결하기 위한 방법으로 C-SCAN알고리즘이 탄생되었다. C-SCAN알고리즘의 장점과 단점은?

    __SCAN알고리즘에 비해 헤드의 전체 이동거리는 늘어나지만 탐색시간의 편차를 줄일 수 있다.__

    

</div>
</details>
<br><br>



### 9-3 :fallen_leaf: 다중 디스크 환경에서의 스케줄링	　`yeosong`
 
#### 1. 동일한 정보를 여러 디스크에 중복 저장하는 `다중 디스크 환경`을 만들면 시스템의 `성능`과 `신뢰성`이 향상된다. 그 예를 말해보세요.

#### 2. 다음은 무엇을 최우선 목표로 준 스케줄링 방식일까? 보기에서 알맞은 목표를 골라보세요.

보기) `확장성(scalability)` `탐색시간(seek time)` `전력 소모 절감`

2-1) 일부 디스크에 요청을 집중시키고 나머지 디스크는 회전을 정지시킨다. <br>
2-2) 헤드의 이동거리가 최대한 짧은 디스크를 고른다. <br>
2-3) 많은 요청을 동시에 처리할 수 있도록 요청을 최대한 골고루 분배한다.


<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">

#### 동일한 정보를 여러 디스크에 중복 저장하는 `다중 디스크 환경`을 만들면 시스템의 `성능`과 `신뢰성`이 향상된다. 그 예를 말해보세요.
> 인기 있는 데이터를 여러 디스크로부터 동시에 서비스(성능)<br>
> 오류가 발생해도 다른 디스크에서 불러 쓸 수 있어서 서비스를 지속할 수 있다.(신뢰성)<br>
> 오류가 발생해도 다른 디스크에는 정상 정보가 남아있어서 정보 유실을 방지할 수 있다.(신뢰성) 등

#### 2. 다음은 무엇을 최우선 목표로 준 스케줄링 방식일까? 보기에서 알맞은 목표를 골라보세요.

보기) `확장성(scalability)` `탐색시간(seek time)` `전력 소모 절감`

2-1) 일부 디스크에 요청을 집중시키고 나머지 디스크는 회전을 정지시킨다. `전력 소모 절감` <br>
2-2) 헤드의 이동거리가 최대한 짧은 디스크를 고른다. `탐색시간(seek time)` <br>
2-3) 많은 요청을 동시에 처리할 수 있도록 요청을 최대한 골고루 분배한다.`확장성(scalability)`




</div>
</details>
<br><br>

### 9-4 :fallen_leaf: 디스크의 저전력 관리	　`kukim`
 
### 다음 쿠키 교수님의 3초컷 대답 시험이다. 괄호에 알맞은 정답을 보기에서 찾아 말하고 A+ 을 받으시오. 

쿠키 왈 : 안녕하신가 학생들? 오늘은 3학점 짜리 OS 교과목의 마지막 시간이라네 하필 마지막 주제가 옛 HDD 디스크라 매우 미안하게 생각하지만... 마지막 시간 나와 함께 신나게 달려보게나 껄껄껄껄

개킴 왈 : (쿠키 교수님 또 시작됐네요우)  

쿠키 왈 : 디스크의 전력 효율을 높이기 위해 다양한 방법들이 있다네 

```
[보기]
공회전(idle) 상태
준비(standby)상태
활동(active)상태
휴면(sleep)상태
```

먼저 디스크의 상태를 전력 소모 기준으로 4가지로 나눈다면

1. `(    )`
    - 헤드가 데이터를 읽거나 쓰고 있는 상태
2. `(    )`
    - 디스크가 회전 중이지만 데이터를 읽거나 쓰지 않는 상태
3. `(    )`
    - 디스크가 회전하지 않고 인터페이스 활성화 상태
4. `(    )`
    - 디스크가 회전하지 않고 인터페이스도 비활성화된 상태

또한 디스크가 회전 중인 상태와 정지하고 있는 상태를 활성상태, 비활성 상태라고 하는데   

디스크 활성상태 : `(    )`, `(    )`

디스크 비활성상태 : `(    )`, `(    )`

으로 디스크의 상태를 나눌 수 있지 껄껄껄  

비활성 상태가 전력을 적게 먹는다고 생각할 수 있지만 사실 비활성 → 활성 상태로 전환될 때 전기를 가장 많이 먹지! 껄껄껄 아래 그림을 5초 동안 살펴보게나 껄껄껄  

<a href="https://ibb.co/jWZtHpC"><img src="https://i.ibb.co/2sYJ5bz/Screen-Shot-2020-11-01-at-7-44-50-PM.png" alt="Screen-Shot-2020-11-01-at-7-44-50-PM" border="0"></a>


전력소모를 줄이기 위해 여러 방법들이 있지만 그 중 몇 개만 소개하려 하네  

```
[보기]

회전속도 조절 기법
쓰기 전략을 통한 저전력 디스크 기법
디스크의 데이터 배치 기법
버퍼캐싱 및 사전인출 기법

```

- `(    )` 기법
    - 디스크의 전력소모를 관리하기 위해 RPM(Rotations Per Minute)를 가변적으로 조절하는 기법이 제안 (운영체제에서 관리함)
- `(    )` 기법
    - 디스크의 접근 속도는 기계적인 매커니즘으로 인해 큰 발전이 없음 → 디스크의 53%이상 빈 공간이기 때문에 디스크 내의 데이터를 복제하여 여러군데 배치하여 헤드 위치에 가까운 복제본 데이터를 접근하여 효율성 증가
- `(    )` 기법
    - 미래에 요청될 데이터를 예측하여 헤드로 부터 가까운 데이터를 사전 인출함 → 그런 연구가 된 바 있음 2004년 ..
- `(    )` 기법
    - 디스크가 비활성 상태일 때 쓰기를 하지 않고 기다렸다가 활성화 상태가 되었을 때 쓰는 방식

이로써 OS 교과목을 마치겠네, 내 특별히 여러분들의 성적을 두둑히 챙겨 부모님 앞으로 우편을 보내 놨으니 걱정말고 고생많았다네! 껄껄껄  다음주 특별과정은 365일 공부만 하는 kim이 진행할 테니 그렇게 알게 껄껄껄

<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">
 
### 다음 쿠키 교수님의 3초컷 대답 시험이다. 괄호에 알맞은 정답을 보기에서 찾아 말하고 A+ 을 받으시오. 

쿠키 왈 : 안녕하신가 학생들? 오늘은 3학점 짜리 OS 교과목의 마지막 시간이라네 하필 마지막 주제가 옛 HDD 디스크라 매우 미안하게 생각하지만... 마지막 시간 나와 함께 신나게 달려보게나 껄껄껄껄

개킴 왈 : (쿠키 교수님 또 시작됐네요우)  

쿠키 왈 : 디스크의 전력 효율을 높이기 위해 다양한 방법들이 있다네 

```bash
[보기]
공회전(idle) 상태
준비(standby)상태
활동(active)상태
휴면(sleep)상태
```

먼저 디스크의 상태를 전력 소모 기준으로 4가지로 나눈다면

1. `(활동(active)상태)`
    - 헤드가 데이터를 읽거나 쓰고 있는 상태
2. `(공회전(idle) 상태)`
    - 디스크가 회전 중이지만 데이터를 읽거나 쓰지 않는 상태
3. `(준비(standby)상태)`
    - 디스크가 회전하지 않고 인터페이스 활성화 상태
4. `(휴면(sleep)상태)`
    - 디스크가 회전하지 않고 인터페이스도 비활성화된 상태

또한 디스크가 회전 중인 상태와 정지하고 있는 상태를 활성상태, 비활성 상태라고 하는데   

디스크 활성상태 : `(활동 상태)`, `(공회전 상태)`

디스크 비활성상태 : `(준비 상태)`, `(휴먼 상태)`

으로 디스크의 상태를 나눌 수 있지 껄껄껄  

비활성 상태가 전력을 적게 먹는다고 생각할 수 있지만 사실 비활성 → 활성 상태로 전환될 때 전기를 가장 많이 먹지! 껄껄껄 아래 그림을 5초 동안 살펴보게나 껄껄껄  

<a href="https://ibb.co/jWZtHpC"><img src="https://i.ibb.co/2sYJ5bz/Screen-Shot-2020-11-01-at-7-44-50-PM.png" alt="Screen-Shot-2020-11-01-at-7-44-50-PM" border="0"></a>


전력소모를 줄이기 위해 여러 방법들이 있지만 그 중 몇 개만 소개하려 하네  

```bash
[보기]

회전속도 조절 기법
쓰기 전략을 통한 저전력 디스크 기법
디스크의 데이터 배치 기법
버퍼캐싱 및 사전인출 기법

```

- `(회전속도 조절)` 기법
    - 디스크의 전력소모를 관리하기 위해 RPM(Rotations Per Minute)를 가변적으로 조절하는 기법이 제안 (운영체제에서 관리함)
- `(디스크의 데이터 배치)` 기법
    - 디스크의 접근 속도는 기계적인 매커니즘으로 인해 큰 발전이 없음 → 디스크의 53%이상 빈 공간이기 때문에 디스크 내의 데이터를 복제하여 여러군데 배치하여 헤드 위치에 가까운 복제본 데이터를 접근하여 효율성 증가
- `(버퍼캐싱 및 사전인출)` 기법
    - 미래에 요청될 데이터를 예측하여 헤드로 부터 가까운 데이터를 사전 인출함 → 그런 연구가 된 바 있음 2004년 ..
- `(쓰기 전략을 통한 저전력 디스크)` 기법
    - 디스크가 비활성 상태일 때 쓰기를 하지 않고 기다렸다가 활성화 상태가 되었을 때 쓰는 방식

이로써 OS 교과목을 마치겠네, 내 특별히 여러분들의 성적을 두둑히 챙겨 부모님 앞으로 우편을 보내 놨으니 걱정말고 고생많았다네! 껄껄껄  다음주 특별과정은 365일 공부만 하는 kim이 진행할 테니 그렇게 알게 껄껄껄
</div>
</details>
<br><br>
